<!DOCTYPE html>
<html lang="ja">
<head>
</head>  
<body>
  <input id="input"/><span id="msg">a</span><br/>
  <span id="count">b</span><br/>
  <span id="average">c</span><br/>
  <span id="speed">d</span>
  <script>
    const time=10;
    var now=0;
    var prevlen=0;
    function info(){
      now++;
      msg.innerText=time-now;
      count.innerText='合計 '+input.value.length+' 文字';
      average.innerText='平均 '+input.value.length/now+' key/s';
      speed.innerText='現在 '+(input.value.length-prevlen)/now+' keys/s';
      prevlen=input.value.length;
      if(now>=time){
        input.disabled=true;
      }
      else{
        setTimeout(info,1000);
      }
    }
    input.oninput=()=>{
      if(input.value!=''){
        msg.innerText='start';
        input.oninput=()=>{};
        setTimeout(info,1000);
      }
    };
  </script>
</body>
</html>
